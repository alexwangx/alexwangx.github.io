<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习路线 :: The Cuddly Computing Machine</title>
    <link rel="canonical" href="http://alexwangx.github.io/cuddly-blog/1.2/Roadmap.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-86782445-1"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-86782445-1')</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="http://alexwangx.github.io">The Cuddly Computing Machine</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/alexwangx">GitHub</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cuddly-blog" data-version="1.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Cuddly Blog</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Flink</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="flink/training/index.html">Flink Training Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Streaming 介绍</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/intro/intro-1.html">使用Apache Flink 进行流处理</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/intro/intro-2.html">流可以传输什么?</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/intro/intro-3.html">一个完整的例子</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">环境配置</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/labs/devEnvSetup.html">设置您的开发环境</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/labs/taxiData.html">使用出租车数据流</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/labs/howto-exercises.html">如何做实验室</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/training/lab1/rideCleansing.html">Lab 1 - 过滤流</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">数据转换</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab1/stateless.html">无状态转换</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab1/keyed-streams.html">Keyed 流</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab1/stateful.html">有状态的转换</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab1/connected-streams.html">连接流</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/training/lab2/rideEnrichment-flatmap.html">Lab 2 - Stateful Enrichment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">时间和分析</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab3/event-time-watermarks.html">Event Time and Watermarks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab3/windows.html">Windows</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lab 3 - Windowing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab3/hourlyTips.html">Lab 3 - 窗口化分析</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab3/hourlyTips-discussion.html">Lab 3 - 讨论</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">事件驱动的应用</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab4/processfunction.html">ProcessFunction</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab4/side-outputs.html">Side Outputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lab 4 - 到期状态</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab4/rideEnrichment-processfunction.html">Lab 4 - 练习</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/lab4/expiring-state-discussion.html">Lab 4 - 讨论</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">容错能力</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/fault/state-backends.html">状态后端</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/fault/snapshots.html">检查点和保存点</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/training/app-dev.html">应用开发</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">其他练习</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/extra-labs/longRides.html">长途警报</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">广播状态</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="flink/training/extra-labs/nearestTaxi.html">寻找最近的出租车</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="flink/training/extra-labs/ongoingRides.html">报告正在进行的出租车</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="flink/training/extra-labs/taxiQuery.html">规则引擎</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="flink/training/extra-labs/eventTimeJoin.html">丰富的 Joins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/training/resources.html">资源链接</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="flink/introduction/index.html">Flink 简介</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/architecture.html">Flink 架构介绍</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/failover.html">Flink 容错机制</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/scheduling.html">Flink 调度机制</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/statemachine.html">Flink 状态机</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/memorymanager.html">Flink 内存管理</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/dataflow.html">Flink Dataflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/batchdata.html">Flink 批处理</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/introduction/streamdata.html">Flink 流处理</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="flink/internals/index.html">Flink 学习笔记</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flink/internals/flink_docker.html">Flink Docker安装</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spark</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spark ops</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spark/ops/spark-exitcode.html">Spark 任务退出码</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spark/ops/spark-issues.html">Spark 常见错误</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="spark/spark-internals/index.html">Spark 2.4.4 架构原理</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spark/spark-internals/root/spark-overview.html">Overview</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Hadoop</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="hadoop/hadoop_krb_install.html">Hadoop 配置 Kerberos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Hadoop ops</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hadoop/hdp-ops/hadoop_commands.html">Hadoop Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hadoop/hdp-ops/hadoop_practices.html">Hadoop Practices</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hadoop/hdp-ops/hadoop_jmx.html">Hadoop JMX</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hadoop/hdp-ops/hadoop_delroot.html">Hadoop 意外删除挽救</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hadoop/hdp-ops/delrmstore_onzk.html">删除ZK上的rmstore目录</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Hbase</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Hbase ops</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hbase/hbase-ops/hbase_notes.html">Hbase 基本命令</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hbase/hbase-ops/hbase_issues.html">Hbase Issues</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Druid</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="druid/druid-install.html">Druid 安装</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="druid/ops/druid-restApi.html">Druid RestApi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Druid 架构</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="druid/druid-internals/tutorial-load-data.html">Druid 导入数据</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="druid/druid-internals/tutorial-load-data1.html">Druid Json 配置介绍</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/druid-internals.html">Druid 0.1.5 架构</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/broker.html">Druid Broker</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/coordinator.html">Druid Coordinator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/historical.html">Druid Historical</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/middleManager.html">Druid MiddleManager</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/overlord.html">Druid Overlord</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/router.html">Druid Router</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="druid/druid-internals/segment.html">Druid Segments</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Kafka</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kafka/kafka_practices.html">Kafka Practices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kafka/kafka_issues.html">Kafka Issues</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ml.html">机器学习&amp;深度学习资料</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mac.html">Mac OS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="linux.html">Linux</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mysql_install.html">Mysql 安装</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="readlist.html">北京中小学孩子读书清单</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="demo/demo.html">Adoc Demo</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Cuddly Blog</span>
    <span class="version">1.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Cuddly Blog</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Cuddly Blog</a></li>
    <li><a href="Roadmap.html">学习路线</a></li>
  </ul>
</nav>
</div>
<article class="doc">
<h1 class="page">学习路线</h1>
<div class="sect1">
<h2 id="_认知"><a class="anchor" href="#_认知"></a>认知</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>注意技术深度，自己要找到自己的亮点（经得起问的），多展示；</p>
</li>
<li>
<p>注意复盘，每个阶段做得好的、做的不好的、得到成长的、可以提升的等等，要有所总结；</p>
</li>
<li>
<p>真要有志于技术，最好关注一下领域内的前沿技术发展和创新，而且不能泛泛看看，要了解到一定深度，技术的优势劣势适用场景要知道；</p>
</li>
<li>
<p>回归技术本质，技术基础要扎实，刷题也可，优秀开源框架研究也可、博客文章也可，最好体现独到见解和思考。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_数据倾斜"><a class="anchor" href="#_数据倾斜"></a>数据倾斜:</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Join 引起的数据倾斜:</p>
<div class="ulist">
<ul>
<li>
<p>如果出现很多 Key 值为 null 或者异常的数据, 或者 key 的分配不均匀, 就会出现数据倾斜.</p>
</li>
</ul>
</div>
</li>
<li>
<p>group by 引起的数据倾斜:</p>
<div class="ulist">
<ul>
<li>
<p>如果 某一个 key 值有特别多的记录, 其他 key 的值记录比较少. 容易出现数据倾斜.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>做好列裁剪和filter操作，以达到两表做join的时候，数据量相对变小的效果。</p>
</div>
<div class="sect2">
<h3 id="_如何解决"><a class="anchor" href="#_如何解决"></a>如何解决:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Jion 倾斜:</p>
<div class="ulist">
<ul>
<li>
<p>如果 key 值 为 null或者异常的数据, 可以根据业务需求,过滤掉 null 或者异常数据.</p>
</li>
<li>
<p>如果是大表跟小表 join, 使用 mapjoin 避免数据倾斜. mapjoin 是将小表先缓存(分布式缓存), 大表 map 阶段,拉取小表数据直接 join.</p>
</li>
<li>
<p>参数优化: set hive.optimize.skewjoin = true; set hive.skewjoin.key = 250000000;</p>
</li>
</ul>
</div>
</li>
<li>
<p>group by 倾斜:</p>
<div class="ulist">
<ul>
<li>
<p>hive.map.aggr=true; // Map 端部分聚合，相当于Combiner</p>
</li>
<li>
<p>hive.groupby.skewindata=true; // 第一个 job 数据打散部分聚合, 第二个 job 最终聚合.</p>
</li>
</ul>
</div>
</li>
<li>
<p>大表 Join 大表</p>
<div class="ulist">
<ul>
<li>
<p>把空值的key变成一个字符串加上随机数，把倾斜的数据分到不同的reduce上，由于null值关联不上，处理后并不影响最终结果。</p>
</li>
<li>
<p>如果还有其他计算，需要进行group by，可以先将值为空的记录单独处理，再和其他计算结果进行union。</p>
</li>
<li>
<p>count distinct时，将值为空的情况单独处理，如果是计算count distinct，可以不用处理，直接过滤，在最后结果中加1。</p>
</li>
</ul>
</div>
</li>
<li>
<p>不同数据类型关联产生数据倾斜</p>
<div class="ulist">
<ul>
<li>
<p>当按照user_id进行两个表的Join操作时，默认的Hash操作会按int型的id来进行分配，这样会导致所有string类型id的记录都分配到一个Reducer中。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_遇到的问题"><a class="anchor" href="#_遇到的问题"></a>遇到的问题</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>hive 多版本问题: 解决办法是关闭版本校验,修改配置.</p>
<div class="ulist">
<ul>
<li>
<p>hbase RegionTooBusyException, 这个问题是写入数据太快,导致 hbase触发MemStore 刷写到磁盘, 阻塞了所有写请求.</p>
</li>
<li>
<p>修改 flush size 大小.</p>
</li>
</ul>
</div>
</li>
<li>
<p>hbase  多个列族的坑.</p>
</li>
<li>
<p>多列族 Region Split 时, 小表 会产生很多小文件.</p>
</li>
<li>
<p>map 执行很快, reduce 执行很慢.原因?</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>亮点的项目</p>
</li>
<li>
<p>spark</p>
</li>
<li>
<p>fastcopy
<a href="https://cloud.tencent.com/developer/article/1058196" class="bare">https://cloud.tencent.com/developer/article/1058196</a>
<a href="http://www.voidcn.com/article/p-asebftmy-zz.html" class="bare">http://www.voidcn.com/article/p-asebftmy-zz.html</a></p>
</li>
<li>
<p>hbase compaction 原理</p>
<div class="ulist">
<ul>
<li>
<p>hbase region too busy</p>
</li>
</ul>
</div>
</li>
<li>
<p>优化</p>
<div class="ulist">
<ul>
<li>
<p>hbase 数据导入使用hbase BulkLoad, 熟悉原理</p>
</li>
<li>
<p>hive 表设置分区,避免全表扫描. 提升查询性能.</p>
</li>
<li>
<p>hive Join优化.</p>
</li>
<li>
<p>小表, mapjoin.</p>
</li>
<li>
<p><code><code>text
--是否自动转换为mapjoin, 默认 false
set hive.auto.convert.join = true;
--小表的最大文件大小，默认为25000000，即25M
set hive.mapjoin.smalltable.filesize = 25000000;
--是否将多个mapjoin合并为一个
set hive.auto.convert.join.noconditionaltask = true;
--多个mapjoin转换为1个时，所有小表的文件大小总和的最大值。
set hive.auto.convert.join.noconditionaltask.size = 10000000;
</code></code></p>
</li>
<li>
<p>Join顺序优化, 优先执行 join 出来较小的表集合, 然后 join 较大的表集合.</p>
</li>
<li>
<p>解决数据倾斜的问题，可通过设置set hive.optimize.skewjoin=true并调整hive.skewjoin.key的大小。hive.skewjoin.key是指Reduce端接收到多少个key即认为数据是倾斜的，并自动分发到多个Reduce。</p>
</li>
<li>
<p>Group By优化,</p>
</li>
<li>
<p>set hive.map.aggr=true  // map端聚合,相当于combiner</p>
</li>
<li>
<p>Group By也同样存在数据倾斜的问题，设置hive.groupby.skewindata为true(是否开启倾斜优化)，生成的查询计划会有两个MapReduce Job，第一个Job的Map输出结果会随机的分布到Reduce中，每个Reduce做聚合操作，并输出结果，这样的处理会使相同的Group By Key可能被分发到不同的Reduce中，从而达到负载均衡，第二个Job再根据预处理的结果按照Group By Key分发到Reduce中完成最终的聚合操作。</p>
</li>
<li>
<p>hive数据存储优化, 使用 ORC 作为默认存储格式. 可以减少很大空间占用.</p>
</li>
<li>
<p>sql 优化.如果语句中存在“(a&amp;b) or (a&amp;c)”逻辑时，建议将逻辑改为“a &amp; (b or c)”。</p>
</li>
<li>
<p>mr 优化</p>
<div class="literalblock">
<div class="content">
<pre>http://support.huawei.com/enterprise/docinforeader!loadDocument1.action?contentId=DOC1000161389&amp;partNo=10142#ZH-CN_TOPIC_0048174048</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>1、JVM虚拟机、数据结构与算法、多线程和网络通信
2、Hadoop、Spark、flink 等原理、能分析性能瓶颈，然后进行调优。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_大数据"><a class="anchor" href="#_大数据"></a>大数据</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_namenode"><a class="anchor" href="#_namenode"></a>namenode</h3>
<div class="paragraph">
<p>~~1. 介绍namenode ha机制~~
2. namenode内存包含哪些，具体如何分配
~~3. namenode ha高可用源码实现方式~~
~~4. namenode启动流程.~~</p>
</div>
</div>
<div class="sect2">
<h3 id="_hdfs"><a class="anchor" href="#_hdfs"></a>hdfs</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>hdfs冷数据如何备份</p>
</li>
<li>
<p><sub>~hdfs整体架构介绍.</sub>~</p>
</li>
<li>
<p>hdfs降低副本原理及主要实现流程,https://blog.csdn.net/Androidlushangderen/article/details/50760170</p>
<div class="ulist">
<ul>
<li>
<p>1. 列出所有副本的节点. 划分某个节点只有1个副本,跟某个节点有多副本的集合.</p>
</li>
<li>
<p>2. 删除某个节点有多副本的.多副本的节点优先选择删除磁盘空间剩余比较少的副本.以便释放更多空间.</p>
</li>
<li>
<p>3. 针对只有一个副本的节点或者多副本的节点,优先选择心跳时间最老的节点进行副本删除.</p>
</li>
</ul>
</div>
</li>
<li>
<p><sub>~hdfs如何实现高可用（2.x及1.x有什么区别）.</sub>~</p>
<div class="ulist">
<ul>
<li>
<p>namenode ha</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_性能优化"><a class="anchor" href="#_性能优化"></a>性能优化</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>spark sql相关做过哪些优化及哪些源代码改造吗.</p>
</li>
<li>
<p>hive,hdfs,yarn,mr,spark做过哪些优化,集群做了哪些优化.Hadoop性能优化.</p>
<div class="ulist">
<ul>
<li>
<p>HDFS</p>
</li>
<li>
<p>合并 fastcp 特性.大幅提高了数据生产效率.</p>
</li>
<li>
<p>1.0版本 hadoop 增加单节点多磁盘负载均衡写策略.
-</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_yarn"><a class="anchor" href="#_yarn"></a>yarn</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>介绍yarn调度器如何分配作业，源代码层面分析</p>
</li>
<li>
<p><sub>~yarn中公平调度器和能力调度器使用场景及特性，如何自定义调度器,FAIRSCHEDULER.</sub>~</p>
</li>
<li>
<p>具体yarn中的状态机.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_mr_hive"><a class="anchor" href="#_mr_hive"></a>mr &amp; hive</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>mapreduce作业执行原理及详细流程</p>
<div class="ulist">
<ul>
<li>
<p>mapreduce执行原理,具体shuffle执行过程，详细说明.</p>
</li>
<li>
<p>Hadoop 源代码 mapreduce的map output的实现.</p>
</li>
<li>
<p>mapreduce 推测执行算法及原理</p>
</li>
<li>
<p><a href="http://t.cn/EIYh47Y" class="bare">http://t.cn/EIYh47Y</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>hiveserver2实现原理，及如何自己实现一个这样的服务；hiveserver2中的TCP启动及http启动的区别，客户端通过jdbc连接hiveserver2的过程</p>
</li>
<li>
<p>针对hql:select b,count(*) from test group by b,编写mapreduce实现</p>
</li>
<li>
<p>~~hive sql如何翻译成mapreduce,执行一个hql语句翻译下如何变成mr的执行过程.~~</p>
</li>
<li>
<p>hiveserver2高可用如何实现，一般会遇到什么问题，如何解决？hiveserver2实现原理.</p>
</li>
<li>
<p>hive元数据mysql表中有哪些具体表吗.</p>
</li>
<li>
<p><sub>~hive谓词下推是怎么回事.</sub>~</p>
<div class="ulist">
<ul>
<li>
<p>就是在不影响结果的情况下，尽量将过滤条件提前执行。谓词下推后，过滤条件在map端执行，减少了map端的输出，降低了数据在集群上传输的量，节约了集群的资源，也提升了任务的性能。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_hadoop"><a class="anchor" href="#_hadoop"></a>hadoop</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>hadoop安全，及资源管理方案介绍,hive on spark如何实现权限认证，管理</p>
</li>
<li>
<p>依次介绍mr,hdfs,spark,tez,hive,sqoop,azkaban的开源系统.</p>
</li>
<li>
<p>日常hadoop相关遇到的问题有哪些？怎么解决的.一般使用集群会遇到什么问题，具体怎么解决，举出列子.集群维护相关遇到的问题，请举例说明</p>
</li>
<li>
<p>有具体向社区提交过patch之类的吗</p>
</li>
<li>
<p>如何测压hadoop集群.</p>
</li>
<li>
<p>做hadoop监控，比较难的点是什么（指标的具体含义分析）. Hadoop升级.</p>
</li>
<li>
<p>hadoop集群，hive服务迁移及升级主要过程有哪些，注意点有哪些.</p>
</li>
<li>
<p>hadoop相关源码，遇到的问题描述</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_kafka_zk"><a class="anchor" href="#_kafka_zk"></a>kafka &amp; zk</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>kafka原理.</p>
</li>
<li>
<p>zookeeper有几种watch事件</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_系统架构"><a class="anchor" href="#_系统架构"></a>系统架构</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>rpc实现方式，比如thrift这些</p>
</li>
<li>
<p>如何设计一个对外的提供支持多种计算引擎的服务.</p>
</li>
<li>
<p>介绍离线作业调度系统,调度系统如何设计,一般如何设计调度系统,调度系统设计.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java"><a class="anchor" href="#_java"></a>Java</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>熟悉java concurrent包</p>
</li>
<li>
<p>RPC框架</p>
</li>
<li>
<p>池技术:什么对象池,连接池,线程池</p>
</li>
<li>
<p>java nio技术</p>
</li>
<li>
<p>java多线程同步异步</p>
</li>
<li>
<p>java中的锁有哪些，具体说明</p>
</li>
<li>
<p>synchronized多种实现方式</p>
</li>
<li>
<p>ThreadLocal, volatile</p>
</li>
<li>
<p>java中 LinkedBlockingQueue和ArrayBlockingQueue区别</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_jvm"><a class="anchor" href="#_jvm"></a>jVM</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>JVM GC</p>
</li>
<li>
<p>jvm堆内存分配，垃圾回收算法，老年代常用的收集方式</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_代码"><a class="anchor" href="#_代码"></a>代码</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>实现二叉树2个节点最近的公共节点</p>
</li>
<li>
<p>手写线程池</p>
</li>
<li>
<p>二叉树（按照层次遍历，先根节点&#8594;右节点&#8594;左节点）</p>
</li>
<li>
<p>一个map&lt;“a”:1,”b”:3,”c”:2&gt;按照value值排序输出一个集合[b,c,a]</p>
</li>
<li>
<p>实现并发的statck(采用数组)</p>
</li>
<li>
<p>把一个字符串的大写字母放到字符串后面，各个字符的相对位置不变，且不能申请额外空间</p>
</li>
<li>
<p>编写一段代码实现 blockqueue 的阻塞的功能，包括Put、Get方法</p>
</li>
<li>
<p>写一个线程类，输出1到10这样的顺序</p>
</li>
<li>
<p>快排</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_linux"><a class="anchor" href="#_linux"></a>Linux</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>如果查看cpu负载过高，排查具体那个线程导致的, top -L pid</p>
</li>
<li>
<p>time_wait一般什么情况出现</p>
</li>
<li>
<p>考察对mysql,linux系统的了解程度</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_学习路线"><a class="anchor" href="#_学习路线"></a>学习路线</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_大数据_2"><a class="anchor" href="#_大数据_2"></a>大数据</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>自然语言处理(暂时不考虑该方向)</p>
</li>
<li>
<p>机器学习 * 有大数据处理分析经验</p>
</li>
<li>
<p>熟悉shell</p>
</li>
<li>
<p>熟悉常用的数据结构及算法，了解常用的数据挖掘或机器学习算法</p>
</li>
<li>
<p>熟悉hadoop、hbase、spark,flume、sqoop的源码的优先</p>
</li>
<li>
<p>熟悉分布式开源项目及其工作原理，并有实际开发经验。</p>
<div class="ulist">
<ul>
<li>
<p>Hadoop</p>
</li>
<li>
<p>hadoop集中式的缓存管理原理</p>
</li>
<li>
<p>Yarn</p>
</li>
<li>
<p>Storm</p>
</li>
<li>
<p>Spark</p>
</li>
<li>
<p>SparkStreaming</p>
</li>
<li>
<p>HIVE</p>
</li>
<li>
<p>Hbase</p>
</li>
<li>
<p>Pig</p>
</li>
<li>
<p>Azkaban</p>
</li>
</ul>
</div>
</li>
<li>
<p>熟悉Map/Reduce编程</p>
</li>
<li>
<p>熟悉消息队列</p>
<div class="ulist">
<ul>
<li>
<p>kafka</p>
</li>
<li>
<p>ZeroMQ</p>
</li>
<li>
<p>ActiveMQ</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java多线程"><a class="anchor" href="#_java多线程"></a>java多线程</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>熟悉java concurrent包</p>
</li>
<li>
<p>分布式通信技术</p>
</li>
<li>
<p>RPC框架</p>
</li>
<li>
<p>池技术:什么对象池,连接池,线程池</p>
</li>
<li>
<p>nio技术</p>
</li>
<li>
<p>java多线程同步异步</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_协议"><a class="anchor" href="#_协议"></a>协议</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>熟悉tcp协议,创建连接三次握手和断开连接四次握手的整个过程,不了解的话,无法对高并发网络应用做优化;</p>
</li>
<li>
<p>熟悉http协议,尤其是http头。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_分布式"><a class="anchor" href="#_分布式"></a>分布式</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>系统集群、负载均衡、反向代理、动静分离</p>
</li>
<li>
<p>分布式存储系统nfs,fastdfs,tfs,hdfs</p>
</li>
<li>
<p>分布式缓存技术memcached,redis</p>
</li>
<li>
<p>熟悉开源的中间件</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_linux_2"><a class="anchor" href="#_linux_2"></a>Linux</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>对于初学者,先熟悉Linux系统,建议读[鸟哥的私房菜][4]</p>
</li>
<li>
<p>对于有C基础的同学,现在用户态下编程,建议阅读[Linux C编程实战][2]和[Unix/Linux编程实战教程][3],然后逐步过渡到Linux内核;</p>
</li>
<li>
<p>入门的同学,可以阅读[Linux操作系统原理与应用][5],从编写内核模块入手,一定要动手实践,从理论到实践,从实践上升到理论.如果没有操作系统的原理基础,建议阅读[计算机的心智,操作系统之哲学原理][6]
[鸟哥的私房菜][4]Linux操作系统使用</p>
<div class="ulist">
<ul>
<li>
<p>[Linux C编程实战][2]和[Unix/Linux编程实战教程][3]用户态下编程</p>
</li>
<li>
<p>[Linux操作系统原理与应用][5]和[计算机的心智,操作系统之哲学原理][6]内核态编程.</p>
</li>
</ul>
</div>
</li>
<li>
<p>学习技能:</p>
<div class="ulist">
<ul>
<li>
<p>学习相关理论</p>
</li>
<li>
<p>实践技能巩固理论</p>
</li>
<li>
<p>讨论技能</p>
</li>
<li>
<p>传授技能</p>
</li>
</ul>
</div>
</li>
<li>
<p>[防棱镜][7]</p>
<div class="ulist">
<ul>
<li>
<p>Tor</p>
</li>
<li>
<p>Tails</p>
</li>
<li>
<p>Debian GNU/Linux</p>
</li>
<li>
<p>Off-the-Record Messaging</p>
</li>
<li>
<p>GNU Privacy Guard</p>
</li>
<li>
<p>TrueCrypt</p>
</li>
<li>
<p>SecureDrop</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_算法"><a class="anchor" href="#_算法"></a>算法</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[阅读这篇文章][1]</p>
</li>
<li>
<p>明确自己清楚复杂度的含义</p>
</li>
<li>
<p>然后实现一些常用的算法</p>
<div class="ulist">
<ul>
<li>
<p>Dijkstra’s</p>
</li>
<li>
<p>Floyd-Warshall</p>
</li>
<li>
<p>Traveling Salesman</p>
</li>
<li>
<p>A*</p>
</li>
<li>
<p>bloom filter</p>
</li>
<li>
<p>breadth-first iterative search</p>
</li>
<li>
<p>binary search, k-way merge</p>
</li>
<li>
<p>bubble/selection/insertion sort</p>
</li>
<li>
<p>in-place quick sort</p>
</li>
<li>
<p>bucket/radix sort</p>
</li>
<li>
<p>closest pair</p>
</li>
</ul>
</div>
</li>
<li>
<p>再次重复，坚持编程!</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_重复发明轮子"><a class="anchor" href="#_重复发明轮子"></a>重复发明轮子</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>你应该使用你常用的语言来实现一些常用的数据结构。不要依赖于库。</p>
</li>
<li>
<p>实现以下的数据结构并为其编写测试用例</p>
<div class="ulist">
<ul>
<li>
<p>vector (dynamic array)</p>
</li>
<li>
<p>linked list</p>
</li>
<li>
<p>stack</p>
</li>
<li>
<p>queue</p>
</li>
<li>
<p>circular queue</p>
</li>
<li>
<p>hash map</p>
</li>
<li>
<p>set</p>
</li>
<li>
<p>priority queue</p>
</li>
<li>
<p>binary search tree 等</p>
</li>
</ul>
</div>
</li>
<li>
<p>你应该能够很快的编写完成。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实践演练"><a class="anchor" href="#_实践演练"></a>实践演练</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>写一份自己的简历。把自己所有的相关技能都罗列出来，然后把那些在100年后还用得到的标出来。给每个技能打分，满分为10分。</p>
</li>
<li>
<p>罗列出你所景仰的程序员。尽量包括那些与你一起工作的人，因为你会在工作中从他们身上获取一些技能。记录下他们身上的1 ~ 2个闪光点，也就是你希望自己有所提高的方面。</p>
</li>
<li>
<p>查看维基百科上的“计算机科学”栏目，找到“计算机领域先驱者”这个分类，从这个列表中挑选一个人，阅读他的事迹，并且在阅读时打开任何你感兴趣的链接。</p>
</li>
<li>
<p>花20分钟通读别人的代码。读出色的代码和读糟糕的代码都是有益的，两者都要读，轮流切换。如果你无法感觉出它们之间的区别，可以求助于一位你尊敬的程序员，让他给你展示一下什么是出色的代码、什么是糟糕的代码。把你读过的代码给别人也看看，问问他们的看法。</p>
</li>
<li>
<p>罗列出你最喜欢的10个编程工具——那些你觉得你用得最多、非有不行的工具。随机挑选其中的一个工具，花一个小时去阅读它的文档。在这一个小时里，努力去学习这个工具的某个你不曾意识到的新功能，或者发现某种新的使用方法。</p>
</li>
<li>
<p>想一想，除了编程之外你最擅长什么事情？再想一想，你是通过怎样的锻炼才变得如此熟练和专业的？这对于你的编程工作又有什么启发呢？（怎么把这些经验应用到编程方面？）</p>
</li>
<li>
<p>拿出一叠简历，并和一组面试官在同一个房间里待上一个小时。确保每份简历都至少被3个面试官看过，并且要给出1 ~ 3分的评分。针对那些不同面试官评判大相径庭的简历展开讨论。</p>
</li>
<li>
<p>参与一个电话面试。事后写下你的反馈，抛出你的观点，然后与主持电话面试的人聊一聊，看看你们是否达成了一致的结论。</p>
</li>
<li>
<p>进行一次技术面试，并且被面试的人应该是某个你不太了解的领域里的专家。让他假定听众在该领域里一无所知，因此请他从最基础的讲起。努力去理解他所说的，必要时问一些问题。</p>
</li>
<li>
<p>有机会参与别人的技术面试。期间，你只是认真地听、认真地学。在应聘者努力解决技术问题的同时，你也要在自己脑子里尝试解决这些问题。</p>
</li>
<li>
<p>找到一个能和你交换实际问题的人，每隔一周，相互交流编程问题。花10 ~ 15分钟来尝试解决这些问题，再用10 ~ 15分钟进行讨论（无论能否解决）。</p>
</li>
<li>
<p>当你听到任何你一时之间也无法解决的面试问题时，赶紧回到你的座位上，把这个问题用电子邮件发给自己，以留作日后的提醒。在那一周里找出点时间，用自己最喜欢的编程语言来解决它。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>[1]: <a href="http://bigocheatsheet.com/" class="bare">http://bigocheatsheet.com/</a>
[2]: <a href="https://book.douban.com/subject/3031572/" class="bare">https://book.douban.com/subject/3031572/</a>
[3]: <a href="https://book.douban.com/subject/1219329/" class="bare">https://book.douban.com/subject/1219329/</a>
[4]: <a href="https://book.douban.com/subject/4889838/" class="bare">https://book.douban.com/subject/4889838/</a>
[5]: <a href="https://book.douban.com/subject/1727031/" class="bare">https://book.douban.com/subject/1727031/</a>
[6]: <a href="https://book.douban.com/subject/3670621/" class="bare">https://book.douban.com/subject/3670621/</a>
[7]: <a href="https://prism-break.org/zh-CN/" class="bare">https://prism-break.org/zh-CN/</a></p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
